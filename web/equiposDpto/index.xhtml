<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f = "http://java.sun.com/jsf/core"
      xmlns:pt="http://xmlns.jcp.org/jsf/passthrough">

    <h:body>

        <ui:composition template="./../template/base.xhtml">

            <ui:define name="head">
                <title>Equipos en Departamento</title>
            </ui:define>

            <ui:define name="content">
                <div class="twelve wide stretched column" style="border-block-color:  #9e9d9d ;">
                    <div class="ui segment">

                        <div class="ui category search">

                            <div class="ui centered grid">
                                <div class="ui animated circular button" 
                                     tabindex="0" 
                                     pt:aria-label="Equipos"
                                     actionListener="#{equipoBean.reiniciarEquipoSeleccionado()}"
                                     onclick="incluir()">

                                    <div class="visible content">
                                        <i class="ui plus icon"></i> 
                                        Equipos
                                    </div>

                                    <div class="hidden content">
                                        <i class="ui plus icon"></i> 
                                        Incluir
                                    </div>
                                </div>

                                <div class="ui animated circular button" 
                                     tabindex="0" 
                                     aria-label="Equipos">
                                    <a class="visible content" href="./../index.xhtml"> 
                                        Marcas
                                    </a>
                                    <a class="hidden content" href="./../index.xhtml"> 
                                        Consultar 
                                    </a>
                                </div>
                            </div>


                            <h:dataTable class="ui compact celled definition table"
                                         id="listas"
                                         var="equipo"
                                         value="#{equipoBean.equipos}"
                                         headerClass="encabezado-tabla">
                                
                                <h:column>
                                    <f:facet name="header">Código</f:facet>
                                    #{equipo.codigo}
                                </h:column>
                                
                                <h:column>
                                    <f:facet name="header">Nombre</f:facet>
                                    #{equipo.nombre}
                                </h:column>

                                <h:column>
                                    <f:facet name="header">Opciones</f:facet>
                                    <div class="item">
                                        <div class="right floated content">
                                            <div class="ui animated circular button" tabindex="0"
                                                 onclick="consultarEquipo(#{equipo.codigo})"
                                                 id="reparar">
                                                <div class="visible content">Consultar</div>
                                                <div class="hidden content">Ver detalles</div>
                                            </div>
                                            <div class="ui animated circular button" tabindex="0"
                                                 onclick="reparar()"
                                                 id="reparar">
                                                <div class="visible content">Reparar</div>
                                                <div class="hidden content">Solicitar</div>
                                            </div>
                                            <div class="ui animated circular button" tabindex="0"
                                                 onclick="desincorporar()"
                                                 id="desincorporar">
                                                <div class="visible content">Desincorporar</div>
                                                <div class="hidden content">Solicitar </div>
                                            </div>
                                        </div>
                                    </div>
                                </h:column>
                            </h:dataTable>
                        </div>

                        <!-- Modal de Ver Detalles''<> -->
                        <div class="ui basic modal" id="formconsultar">
                            <div class="content">
                                <div class="ui two column very relaxed grid" style="width: 110% ">
                                    <div class="column column-equipo"></div>

                                    <div class="column column-fondo">
                                        <div class="ui segment">
                                            <div class="ui aligned center dividing header">
                                                Consultar Equipo
                                            </div>
                                        </div>

                                        <div class="ui form-1">
                                            <h:form>                                       
                                                <div class="ui form">
                                                    <div class="two fields">
                                                        <div class="field">
                                                            <label>Nombre</label>

                                                            <input type="text" 
                                                                   placeholder="Nombre del equipo" 
                                                                   name="nombre"
                                                                   disabled="true"/>
                                                        </div>

                                                        <div class="field">
                                                            <label>Marca</label>
                                                            <input type="text" 
                                                                   placeholder="Marca del equipo"
                                                                   name="marca"
                                                                   disabled="true"/>
                                                        </div>

                                                    </div>

                                                    <div class="field">
                                                        <label>Descripción</label>
                                                        <textarea pt:type="text" 
                                                                pt:placeholder="Descripción"
                                                                name="descripcion" 
                                                                disabled="true"/>

                                                    </div>

                                                </div>
                                            </h:form>

                                            <div class="actions">
                                                <div class="ui center aligned fluid container" style=" margin-top: 5%">
                                                    <div class="ui cancel  circular button">
                                                        <i class="left chevron icon"></i>
                                                        Atrás
                                                    </div>

                                                    <div class="ui circular button"
                                                         onclick="modificar()"> 
                                                        Modificar
                                                    </div>

                                                    <div class="ui circular button"
                                                         onclick="eliminar()"> 
                                                        Eliminar
                                                    </div>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Modificar Equipo''<> -->
                        <div class="ui basic modal" id="formodificar">
                            <div class="content">
                                <div class="ui two column very relaxed grid" style="width: 110% ">
                                    <div class="column column-equipo"></div>

                                    <div class="column column-fondo">
                                        <div class="ui segment">
                                            <div class="ui aligned center dividing header">
                                                Modificar Equipo
                                            </div>
                                        </div>

                                        <div class="ui form-1">
                                            <h:form>
                                                <input type="number" 
                                                    placeholder="Nombre del equipo"
                                                    id="codigo"
                                                    name="codigo"
                                                    style="display: none"/>

                                                <div class="ui form">
                                                    <div class="two fields">
                                                        <div class="field">
                                                            <label>Nombre</label>
                                                            <input type="text"
                                                                         placeholder="Nombre del equipo"
                                                                         id="nombre"
                                                                         name="nombre" />
                                                        </div>

                                                        <div class="field">
                                                            <label>Marca</label>
                                                            <h:selectOneMenu value="#{equipoBean.equipoSeleccionado.codigoMarca}" 
                                                                 class="ui fluid dropdown"
                                                                 pt:name="codigoMarca"
                                                                 id="codigoMarca"
                                                                 converter="omnifaces.SelectItemsIndexConverter"
                                                                 onchange="buscarMarca()"
                                                                 required="true"
                                                                 requiredMessage="Selecciona una Marca">
                                                                <f:selectItem  itemLabel="Seleccione..." itemValue="#{null}" noSelectionOption="true" />
                                                                <f:selectItems value="#{marcaBean.marcas}" var="marca" 
                                                                               itemValue="#{marca.codigo}"
                                                                               itemLabel="#{marca.nombre}" />
                                                            </h:selectOneMenu>
                                                        </div>

                                                    </div>

                                                    <div class="field">
                                                        <label>Descripción</label>
                                                        <textarea type="text"
                                                                id="descripcion"
                                                                placeholder="Descripción"
                                                                name="descripcion"/>
                                                    </div>

                                                </div>

                                                <!-- Mensaje de confirmacion de modificacion ''<> -->
                                                <div class="ui mini modal" id="modificacion">
                                                    <div class="content fondo-modal">
                                                        <p style="color: #ffff">¿Está seguro que desea guardar los cambios?</p>
                                                    </div>
                                                    <div class="actions">
                                                        <div class="ui red inverted button cancel">
                                                            <i class="remove icon"></i>
                                                            Cancelar
                                                        </div>

                                                        <div class="ui green ok inverted button" 
                                                             onclick="actualizarEquipo()">
                                                            <i class="checkmark icon"></i>
                                                            Aceptar
                                                        </div>
                                                    </div>
                                                </div>

                                            </h:form>

                                            <div class="actions">
                                                <div class="ui center aligned fluid container" style=" margin-top: 5%">
                                                    <button class="ui cancel circular icon button"
                                                            onclick="atras()">
                                                        <i class="left chevron icon"></i>
                                                        Atrás 
                                                    </button>
                                                    <button class="ui circular button"
                                                            onclick="buscarMarca(2);
                                                                    aceptarModificacion()">
                                                        <i class='save icon'></i>
                                                        Guardar
                                                    </button>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- incluir Equipo ''<> -->
                        <div class="ui basic modal" id="formincluir">
                            <div class="content">
                                <div class="ui two column very relaxed grid" style="width: 110% ">
                                    <div class="column column-equipo"></div>

                                    <div class="column column-fondo">
                                        <div class="ui segment">
                                            <div class="ui aligned center dividing header">
                                                Incluir Equipo
                                            </div>
                                        </div>

                                        <div class="ui form-1">
                                            <h:form>
                                                <div class="ui form">
                                                    <div class="two fields">
                                                        <div class="field">
                                                            <label>Nombre</label>
                                                            <input type="text"
                                                                         placeholder="Nombre del equipo"
                                                                         id="nombreEI"
                                                                         name="nombre" />
                                                        </div>

                                                        <div class="field">
                                                            <label>Marca</label>
                                                            <h:selectOneMenu value="#{equipoBean.equipoSeleccionado.codigoMarca}" 
                                                                 class="ui fluid dropdown"
                                                                 pt:name="codigoMarcaEI"
                                                                 id="codigoMarcaEI"
                                                                 converter="omnifaces.SelectItemsIndexConverter"
                                                                 onchange="buscarMarca()"
                                                                 required="true"
                                                                 requiredMessage="Selecciona una Marca">
                                                                <f:selectItem  itemLabel="Seleccione..." itemValue="#{null}" noSelectionOption="true" />
                                                                <f:selectItems value="#{marcaBean.marcas}" var="marca" 
                                                                               itemValue="#{marca.codigo}"
                                                                               itemLabel="#{marca.nombre}" />
                                                            </h:selectOneMenu>
                                                        </div>

                                                    </div>

                                                    <div class="field">
                                                        <label>Descripción</label>
                                                        <textarea type="text"
                                                                id="descripcionEI"
                                                                placeholder="Descripción"
                                                                name="descripcion"/>
                                                    </div>

                                                </div>

                                                <!-- Mensaje de confirmacion de inclusion ''<> -->
                                                <div class="ui mini modal" id="inclusion">
                                                    <div class="content fondo-modal">
                                                        <p>¿Está seguro que desea incluir el equipo?</p>
                                                    </div>
                                                    <div class="actions">
                                                        <div class="ui red inverted button cancel">
                                                            <i class="remove icon"></i>
                                                            Cancelar
                                                        </div>

                                                        <div class="ui green ok inverted button"
                                                             onclick="incluirEquipo()">
                                                            <i class="checkmark icon"></i>
                                                            Aceptar
                                                        </div>
                                                    </div>
                                                </div> 

                                            </h:form>

                                            <div class="actions">
                                                <div class="ui center aligned fluid container" style=" margin-top: 5%">
                                                    <button class="ui cancel circular icon button">
                                                        <i class="left chevron icon"></i>
                                                        Cancelar 
                                                    </button>
                                                    <button class="ui circular button"
                                                            onclick="buscarMarca(1);
                                                                     aceptarInclusion()">
                                                        <i class="save icon"></i> 
                                                        Guardar 
                                                    </button>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Modal para solicitar reparacion''<> -->
                        <div class="ui basic modal" id="formreparar">
                            <div class="content">
                                <div class="ui two column very relaxed grid" style="width: 110% ">
                                    <div class="column column-equipo"></div>

                                    <div class="column column-fondo">
                                        <div class="ui segment">
                                            <div class="ui aligned center dividing header">
                                                Reparar Equipo
                                            </div>
                                        </div>

                                        <div class="ui form-1">
                                            <h:form>
                                                <div class="ui form">
                                                    <div class="two fields">
                                                    </div>

                                                    <div class="field">
                                                        <label>Motivo</label>
                                                        <h:inputTextarea pt:type="text" pt:placeholder="Motivo de la reparación"/>
                                                    </div>
                                                </div>

                                                <!-- Mensaje de reparar equipo ''<> -->
                                                <div class="ui mini modal" id="txtreparar">
                                                    <div class="content fondo-modal">
                                                        <p>¿Está seguro que desea reparar el equipo?</p>
                                                    </div>

                                                    <div class="actions">

                                                        <div class="ui red inverted button cancel">
                                                            <i class="remove icon"></i>
                                                            Cancelar
                                                        </div>

                                                        <div class="ui green ok inverted button">
                                                            <i class="checkmark icon"></i>
                                                            Aceptar
                                                        </div>

                                                    </div>
                                                </div>

                                            </h:form>

                                            <div class="actions">
                                                <div class="ui center aligned fluid container" style=" margin-top: 5%">
                                                    <button class="ui cancel circular icon button" id="cancelar">
                                                        <i class="left chevron icon cancel"></i>
                                                        Cancelar 
                                                    </button>
                                                    <button class="ui circular button" 
                                                            onclick="aceptarReparacion()">
                                                        <i class="save icon"></i> 
                                                        Aceptar
                                                    </button>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Modal para solicitar desincorporacion''<> -->
                        <div class="ui basic modal" id="formdesincorporar">
                            <div class="content">
                                <div class="ui two column very relaxed grid" style="width: 110% ">
                                    <div class="column column-equipo"></div>

                                    <div class="column column-fondo">
                                        <div class="ui segment">
                                            <div class="ui aligned center dividing header">
                                                Desincorporar Equipo
                                            </div>
                                        </div>

                                        <div class="ui form-1">
                                            <h:form>
                                                <div class="ui form">
                                                    <div class="two fields">
                                                    </div>

                                                    <div class="field">
                                                        <label>Motivo</label>
                                                        <textArea type="text" 
                                                               placeholder="Motivo de la desincorporación" />
                                                    </div>
                                                </div>

                                                <!-- Mensaje de desincorporar equipo ''<> -->
                                                <div class="ui mini modal" id="txtdesincorporar">
                                                    <div class="content fondo-modal">
                                                        <p>¿Está seguro que desea desincorporar el equipo?</p>
                                                    </div>
                                                    <div class="actions">
                                                        <div class="ui red inverted button cancel">
                                                            <i class="remove icon"></i>
                                                            Cancelar
                                                        </div>
                                                        <div class="ui green ok inverted button">
                                                            <i class="checkmark icon"></i>
                                                            Aceptar
                                                        </div>
                                                    </div>
                                                </div>

                                            </h:form>

                                            <div class="actions">
                                                <div class="ui center aligned fluid container" style=" margin-top: 5%">
                                                    <button class="ui cancel circular icon button">
                                                        <i class="left chevron icon"></i>
                                                        Cancelar 
                                                    </button>

                                                    <button class="ui circular button" id="acepto"
                                                            onclick="aceptarDesincorporacion()">
                                                        <i class="save icon"></i> 
                                                        Aceptar
                                                    </button>
                                                </div>
                                            </div>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>


                        <!-- Mensajes ''<> -->
                        <!-- Mensaje de eliminar equipo ''<> -->
                        <div class="ui mini modal" id="txteliminar">
                            <div class="content" >
                                <p style="color: #ffff">¿Está seguro que desea eliminar el equipo?</p>
                            </div>
                            <div class="actions">
                                <div class="ui red inverted button" id="no">
                                    <i class="remove icon"></i>
                                    Cancelar
                                </div>
                                <div class="ui green ok inverted button">
                                    <i class="checkmark icon"></i>
                                    Aceptar
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </ui:define>

        </ui:composition>

    </h:body>
</html>
